### 普通字符

表达式 | 描述
:--|:--
`.` 或 `[^\n\r]` | 匹配除换行符或回车符之外的任何字符
`[A-Za-z]` | 字母
`[a-z]` | 小写字母
`[A-Z]` | 大写字母
`\d` 或 `[0-9]` | 数字
`\D` 或 `[^0-9]` | 非数字
`_` | 下划线
`\w` 或 `[A-Za-z0-9_]` | 字母、数字或下划线
`\W` 或 `[^A-Za-z0-9_]` | `\w` 的反集
`\S` | `\s` 的反集

### 空白字符

表达式 | 描述
:--|:--
` ` | 空格
`\t` | 制表符
`\n` | 换行符
`\r` | 回车符
`\s` | 空格、制制表符、换行符或回车符

### 字符集

表达式 | 描述
:--|:--
`[xyz]` | `x`、`y` 或 `z` 中的任意一个
`[^xyz]` | 除了 `x`、`y`、`z` 之外的任意一个
`[1-3]` | `1`、`2` 或 `3` 中的任意一个
`[^1-3]` | 除了 `1`、`2`、`3` 之外的任意一个

- 字符集可以看作是对方括号中包含的单个字符进行的 `OR`（或）操作。
- 在开头的 `[` 之后使用 `^` 来“取反”字符集。
- 在字符集中，`.` 表示字面意义上的点。

### 需要转义的字符

#### 在字符集之外

表达式 | 描述
:--|:--
`\.` | 点
`\^` | 脱字符
`\$` | 美元符号
`\|` | 竖线
`\\` | 反斜杠
`\/` | 正斜杠
`\(` | 左圆括号
`\)` | 右圆括号
`\[` | 左方括号
`\]` | 右方括号
`\{` | 左花括号
`\}` | 右花括号

#### 在字符集之内

表达式 | 描述
:--|:--
`\\` | 反斜杠
`\]` | 右方括号

- 只有在紧跟字符集的开口 `[` 之后出现时，`^` 才必须被转义。
- 只有在两个字母或两个数字之间出现时，`-` 才必须被转义。

### 量词

表达式 | 描述
:--|:--
`{2}` | 正好 2 个
`{2,}` | 至少 2 个
`{2,7}` | 至少 2 个但不超过 7 个
`*` | 0 个或多个
`+` | 1 个或多个
`?` | 正好 0 个或 1 个

- 量词位于要量化的表达式*之后*。

### 边界

表达式 | 描述
:--|:--
`^` | 字符串开头
`$` | 字符串结尾
`\b` | 单词边界

- 单词边界匹配的工作原理：
    - 如果第一个字符是 `\w`，则在字符串的开头匹配。
    - 在字符串内的两个相邻字符之间匹配，如果第一个字符是 `\w` 且第二个字符是 `\W`。
    - 如果最后一个字符是 `\w`，则在字符串的结尾匹配。

### 匹配

表达式 | 描述
:--|:--
`foo\|bar` | 匹配 `foo` 或 `bar`
`foo(?=bar)` | 如果 `foo` 在 `bar` 之前，则匹配 `foo`
`foo(?!bar)` | 如果 `foo` *不*在 `bar` 之前，则匹配 `foo`
`(?<=bar)foo` | 如果 `foo` 在 `bar` 之后，则匹配 `foo`
`(?<!bar)foo` | 如果 `foo` *不*在 `bar` 之后，则匹配 `foo`

### 分组和捕获

表达式 | 描述
:--|:--
`(foo)` | 捕获组；匹配并捕获 `foo`
`(?:foo)` | 非捕获组；匹配 `foo` 但*不*捕获 `foo`
`(foo)bar\1` | `\1` 是对第 1 个捕获组的反向引用；匹配 `foobarfoo`

- 捕获组仅在以下方法中相关：
    - `string.match(regexp)`
    - `string.matchAll(regexp)`
    - `string.replace(regexp, callback)`
- `\N` 是对第 `N` 个捕获组的反向引用。捕获组从 1 开始编号。

## 参考资料和工具

- [MDN](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Guide/Regular_Expressions)
- [RegExplained](https://leaverou.github.io/regexplained/)
